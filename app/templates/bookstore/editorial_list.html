{% extends 'bookstore/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Editoriales — Book Store" %}{% endblock %}

{% block content %}
<h2>{% trans "Editoriales" %}</h2>

<p>
    {% trans "Explora las editoriales que publican las obras disponibles en Book Store. Conoce su historia, su catálogo y los autores con los que colaboran." %}
</p>

<div class="card-list">
{% for editorial in editorials %}
    <div class="card">
        <h3>{{ editorial.name }}</h3>

        {% get_current_language as LANGUAGE_CODE %}

        {% if LANGUAGE_CODE == "en" %}
            <p><em>{% trans "Description not available in this language." %}</em></p>
        {% else %}
            {% if editorial.description %}
                <p>{{ editorial.description|truncatewords:20 }}</p>
            {% else %}
                <p><em>{% trans "Esta editorial no tiene descripción disponible." %}</em></p>
            {% endif %}
        {% endif %}

        <a href="{% url 'editorial_detail' editorial.pk %}" class="btn">
            {% trans "Ver detalles" %}
        </a>
    </div>

{% empty %}
    <p>{% trans "No hay editoriales disponibles." %}</p>
{% endfor %}
</div>

{% endblock %}
