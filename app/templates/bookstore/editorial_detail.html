{% extends 'bookstore/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{{ editorial.name }}{% endblock %}

{% block content %}

<div class="detail-box">
    <h2>{{ editorial.name }}</h2>

    <p>
    {% get_current_language as LANGUAGE_CODE %}
    
    {% if editorial.description %}
        {% if LANGUAGE_CODE == "en" %}
            <em>{% trans "Description not available in this language." %}</em>
        {% else %}
            {{ editorial.description }}
        {% endif %}
    {% else %}
        <em>{% trans "This publisher has no description." %}</em>
    {% endif %}
    </p>

    <h3>{% trans "Libros publicados:" %}</h3>

    <div class="card-list">
    {% for book in editorial.books.all %}
        <div class="card">
            <h4>{{ book.title }}</h4>
            <a href="{% url 'book_detail' book.pk %}" class="btn">
                {% trans "Ver detalles" %}
            </a>
        </div>
    {% empty %}
        <p>{% trans "No hay libros registrados." %}</p>
    {% endfor %}
    </div>

    <a href="{% url 'editorial_list' %}" class="link-btn">
        {% trans "Volver" %}
    </a>
</div>

{% endblock %}
